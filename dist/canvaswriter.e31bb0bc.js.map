{"version":3,"sources":["src/CanvasWriter/helpers.js","node_modules/lodash.clonedeep/index.js","src/CanvasWriter/Editor.js","src/CanvasWriter/alphaNumStyles.js","src/CanvasWriter/Paper.js","src/CanvasWriter/CanvasWriter.js","src/CanvasWriter/index.js","index.js","../../.nvm/versions/node/v12.16.3/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../.nvm/versions/node/v12.16.3/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getRandomInt","min","max","Math","ceil","floor","Number","random","getRandomArbitrary","toFixed","hex2rgba","hex","a","result","exec","r","parseInt","g","b","clamp","c","Editor","presets","paper","cursorIndex","history","removedHistory","overwrite","maxHistory","init","key","options","updateHistory","updateRemovedHistory","updateCursor","length","removed","pop","push","addToHistory","getEntry","nextCursorIndex","index","last","getLastHistory","group","groups","entry","getLastEntry","HistoryState","historyItem","splice","console","log","prevText","text","entryGroup","Entry","setStyles","createEntryStyles","remove","getCurrentEntry","EntryGroup","insert","n","add","replace","updateLastHistoryCursor","removeAllCursors","cursor","cursorMovement","incrCursor","decrCursor","styles","editedStyles","val","entries","slice","EntryGroups","Group","map","eg","initHist","alphaNums","initAlphaNumStyles","opts","broken","rotationMax","translationXMax","translationYMax","settings","rotation","translationX","translationY","ans","split","x","y","scale","Paper","canvas","X","_broken","ctx","getContext","_dimensions","dimensions","w","h","_lineHeight","lineHeight","_letterSpacing","letterSpacing","_fontRatio","fontRatio","_fontColor","fontColor","randomOpacity","setDimensions","refreshCanvas","renderText","historyText","width","height","lw","idx","cursorNext","cursorRendered","c1","c2","drawLetter","i","j","forEach","clearRect","heighth","setPadding","clampedPaddingX","letter","textAlign","textBaseline","font","fillStyle","letterStyles","ANStyles","getANStyles","posX","posY","rot","color","opacity","scaleX","scaleY","col","setTransform","rotate","PI","fillText","beginPath","arc","stroke","__letterSpacing","CanvasWriter","editor","letterControls","Object","values","filter","v","input","dataset","value","elements","canvas2","DOMControls","connect","addEventListeners","l_rotation_control","l_x_control","l_y_control","l_scale_control","l_color","l_opacity","t_color","t_line_height","t_letter_spacing","t_font_scale","t_broken","t_overwrite","t_undo","t_redo","t_key","textControls","addLetterControlListeners","inputHandler","e","target","editStyle","renderLastText","addEventListener","addTextControlListeners","handleKeyDown","preventDefault","handleKeyInput","updateLetterControls","handleLineHeightRange","handleLetterSpacingRange","handleFontScaleRange","handleBrokenRange","handleOverwriteButton","handleUndoButton","undo","handleRedoButton","redo","handleTextColorInput","syncInitial","clear","DOMElements","document","getElementById","main","canvasWriter","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module"],"mappings":"AQAA,ACAA,IDAI8N,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,ANAA,SOCSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,ARFF,MOCM,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEhB,ADFJ,ANCA,IOCIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,ARDF,EQCEA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,ARDJ,IQCIA,IAAI,CAAChL,MAAL;ADCF,ACAC,ARDH,AILA,AHEA,AEAA,ADFA,GMIE,MDEOkK,SAAP;AACD,ADLD1K,ANIA,OMJO,CAACoK,KAAR;AEKEqB,AFFF,ANEA,AINA,AHEA,AEAA,EKIEA,EFFIpB,KEEG,CAACuB,IAAR,CFFe,EEEAJ,CFFG,GEEC,CAACI,IAAL,CAAUjJ,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCkJ,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEN,AFFA3D,ANEF,ADRA,ESQE2D,AFFA3D,IEEI,CAACkE,EDCEnB,ARTAhO,QSQP,CAAgBoP,EFFE,CCGpB,ARTA,COMsB1B,APNAzN,EQSE,CRTxB,EAA2BC,GSQzB,AFF4B,APN9B,CSQ+B2O,AFFAlB,CPNC,MSQ9B,EAAsCiB,IAAI,CAACS,AFFvB,CAAwB,UEE5C,AFFoB,CADF;ACKlB,ACDD,AFFCnE,ANEF,ADREjL,EOMAiL,APNAjL,GAAG,GAAGE,IAAI,COMC,APNAC,EOMEsN,EPNP,CAAUzN,GAAV,CAAN,COMqB,CAAC0N,cAAT,CAAwB,UAAxB,CAFK;ACMlB,ADHAxC,ANEF,ADREjL,EOMAiL,APNAjL,GAAG,CQSC,ERTEC,IAAI,COMC,APNAE,EOMEqN,GPNP,CAAWxN,GAAX,COMe,APNrB,COMsByN,cAAT,CAAwB,UAAxB,CAHK;ACOhB,ACDJ,AFFEvC,ANEF,ADRE,EOMAA,EEEEkE,KTRKhP,CQSC,IAAI2N,ACDA,CTRC,CAAC9N,CSQC,AFFA,ECGP,ADHSuN,CPNC,CQShB,ACDJ,ATRqBrN,KAAL,COMW,APNAF,COMCwN,GPNG,CAACpN,MAAL,IOMR,CAAwB,CPNCL,GAAG,GAAGD,GOM/B,APNyB,COExB,EPFoC,CAA7B,CAAX,IAA8CA,GAA/C,CAAb;AQUC,ADHDoL,ANEF,ADRC,EOMCA,CCCA,CAEE,KDHK,ECGE6C,ADHAR,GCGP,EAAY,GDHG,CAACC,cAAT,CAAwB,cAAxB,CALS;ACShB,ACFJ,AFDErC,ANEF,AEXA,EISEA,EJTInG,IKYEgJ,CCFCoB,EFDE,EAAE7B,AJTE,EKYA,CLXb,EKWgB,ACFlB,CDEmB,ECFE,AFDA,CAACC,ECGEO,GAAG,CAACE,KAAV,EAAiBC,CDHtB,CAAwB,GCGnB,CAAuB,MDH5B,CANO,wDCSF,CAAd,MLZJ;AMWE,AFDA9C,ANEF,ADTA,EOOEA,IECI+D,GFDG,APPA9O,EOOEkN,KECT,EAAgB,CFDC,CAACC,OPPpB,CAA4B1N,GAA5B,EAAiCC,COOtB,CAAwB,CPPnC,EAAsC,SOO3B,CAPS;ACUhB,ACDA,AFDFsL,ANEF,AEVA,AHCE,EOOAA,EJRIpG,IKUE+I,CRTC7N,MQSL,ADFW,APPA,CAAC,CQSC,ADFAoN,APPAvN,IAAI,CGDG,AHCFI,GOOG,AJRE,CIQDoN,EPPT,MGDXvI,AHC4BlF,GAAG,GOOpB,APPuBD,COOC,EPPxB,IAA8BA,GAA/B,EGDW,AHCyBQ,EOOnC,CARG,AJAmC,IHCvC,CAA4C,CAA5C,CAAD,CAAb;AQUI,ACDH,AFDDgL,ANEF,AEXuD,AHEtD,EOOCA,IJT0BpG,IAA2B,GKW1CiJ,KDFK,EAAEZ,GCEG,CAACS,IDFI,CAACR,ECEE,CAAC,CAAD,CAAR,CAAjB,QDFc,CAAwB,gBAAxB,CATA,oBJAe;AKY9B,ADFHjC,ANEF,AEZqCpG,AGLrC,ECeEoG,EJVmCpG,MAAM,EAAE,EIU/B,EAAEoI,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAVI;ACajB,ACDD2B,AFDA3D,ANEF,AEbmC,AHInC,ESQE2D,AFDA3D,CJXqD,MHI9CjL,COOC,EECE,AFDAgN,GECG8B,ETRf,CAAkB7O,EOOE,CAACgN,APPrB,EAAuB/M,CAAvB,CSQyB,CAAC,ATRA,SOOd,CAAwB,EECE,MFD1B,CAXQ;AEahB,AFDFgL,ANEF,AIhBA,AFEuD,AHKrD,AMTF,ECgBEA,IJXMtG,AHIFzE,ESQE4O,INb+C,AHK3C,CSQC,AFDA,EAAE/B,AJXIrI,AHIJ,CSQCqI,GNbuC,CAC/CpI,GIWe,CECC,AFDAqI,CECC+B,CNb8B,YIYxC,CAAwB,EECvB,CAA0B,QFD3B,CAZK,QPKuC5O,IAA5C,CAAiDH,ESQhD,CAAZ,ATRW,CAAb;AQUA,ADFAkL,ANEF,AEbE,AHKA,EOMAA,EFdmB3B,EFGf3E,AHKAxE,CAAC,COMC,CCEC,CDFC2M,APNA1M,EQQR,KLbe,CIWC,APNA,COMC2M,APNA9M,CGLC,EAAlB,GHKuB,CAAC,CAAD,CAAP,EAAY,EAAZ,COMR,APNR,COMgC,MAAxB,CAbU;ACgBnB,ACFG,AFAFiL,ANEF,AIhBE,AFGA,AHKA,AMXF,ECiBEA,IJXItG,AHKAvE,CAAC,COMC,CEAC,CFACyM,APNA1M,GSMGmH,CAAC,GAAG,CAAb,AFAc,APNA,COMCwF,APNA9M,CSMCsH,CAAC,ANXA,GMWGsH,AJdV1N,AFGU,CHKC,CAAC,CAAD,CGLvB,AHKgB,CSMW,CAACI,ATNA,CKR5B,CLQgB,COMR,AFda,ALQrB,COMgC,EEA9B,EAAkCgG,CAAC,CFA7B,CEAN,AFdgB,EEcuB;AACrC,AFAJ4D,ANEF,AIjBuB,AFIrB,AHKA,EOMAA,IJXItG,AHKAvE,COMC,APNA,EOMEwM,CEACe,ATNAzN,MSMM,CAACsN,AFfG,CPSF,CAACzN,EGLE,GAAG,CHKC,CAAC,CSMhB,ATNe,CSMG4O,ANX1B,AHKgB,EAAY,EAAZ,CSMe,ATN/B,CSMgCtH,CAAD,CAAL,CAAS6G,IAA3B,MAAqCP,MAAM,CAACT,YAAP,EAAzC,EAAgE;ADGtE,ACFQW,AFANvI,ANEF,AEZE,AHKA,EOKAA,IJVIV,EMUEiJ,AFAA,CCECL,CDFCZ,IJVI,GAAG,CMUC,AFAA,CCElB,ACFmB+B,AFAA9B,CCECY,GAApB,CCFwB,ATLPxN,CQOQ,ACFAoH,ATLvB,CSKsB,CAAN,CAAV,KFAE,CAAwB,KPLZlH,CAApB,COKQ,aPLiBC,CAAzB,cAA8BN,CAA9B;AQQA,ACFK,AFjBa,ANmBpB,AInBuB,AFOnB+E,AHKH,COZD,GJOIA,KKYK,CAAC,ELZE,EAAEL,CKYCiJ,GAAN,EAAWrK,ALZA,GAAGqB,IKYd,CAAmB,MLbX,gEKaR,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AREL,AEZIK,IAAAA,WGTWsE,CHSC,EAAE5E,MAAM,GAAGE,eAFV;AIajB,ANEA,AIrBuB,AFSnBK,AHKJ,IGLIA,AHKE1E,KOKGyM,APLE,GAAG,COKd,GAAgB,AJVA,EAAEtI,GHKZnE,GGLkB,EHKV,CGLasE,AHKZ7E,CAAD,EAAIM,CAAJ,EAAOE,CAAP,UK6IK,YAAM;AGrIzBoN,ACFIc,AFAF,ANEF,AIsII,AFtJa,AHQH,GGRZ,CMcEA,ANpBmD,CAYrD,CIQIzB,AFwIF,CGtIG,CAACG,CRRmB7N,EK8InB,CAACoB,CL9IsB,CSMjB,ATNkBrB,GSMf,AJwIb,AL9IuB,COMT,AFwIHqH,AL9IqBrG,CAAT,CQQ3B,CCFI,AFAiB,APNkBf,EQQhB4N,EDFE7D,APNkB,CAACjK,GAAL,CAASmB,CK8I5C,AL9ImC,EAAYR,CAAZ,CAAZ,CAAb,KQQd,KDFqB,CAAiB;ACGtC4N,ACFG,AFDqC5D,ANGxC,ADTc,CAAd,ESFyB,CFQeA,CECnC,EDEE,ACXkB,CDWjB0D,ACXN,IFQ8C,EAAEb,ICGlD,GAAqBa,IDHiB,MCGtC;ACDC,AFF8D5I,ANI/D,AIqII,AFhJF,IIO6DA,EJPzDI,GAAG,CEgJDnD,EEzI+D,AJP3DwC,EIO6D,AFyI7D,GAAG,IFhJM,CEgJF,AFhJGY,CEgJFoE,IFhJR,CAAgB,CEgJb,CAAYvH,AFhJf,CAAV,aEgJa,EAAX;AEzIkC,ANKtC,AEXE,GIMmB,CAAnB,EJNI6B,MAAM,GAAG,EAAb;AMUFkL,AFHC,ANKD,AIoII,MItIE,AJsIF,CItIGnB,IJsIC,CAACjN,EItIT,GAAiBgO,AJsIb,CAAW/H,QItIf,EJsII,CAAsB7E,IAAtB,EAA4B,KAAI,CAACwH,MAAL,CAAYxI,SAAxC;AJnIJ,AIoIG,AF/JoD,KEAhC,wCFePmE,GAfuC;AIuBvD8H,ANKA,AE5BuD,IIuBnD,AHvBiBzH;AH6BrB,AI7BuB,ADCrB,kDCiKuB,UAACiE,cAAD,EAAoB;AJpI7C,AIqII,AD1JyB,ADT0B,IDAlC/I,MGmKb0B,KAAK,GAAG,KAAI,CAACoH,MAAL,CAAYtG,eAAZ,EAAZ;AJpIJ,AC9BE,AEWA,ADGA,iBCHYuC,GFXc,GEW1B,EAAkC,+BDGf;AFiBrB,AIoII,AHnKwB,AEWQ,ADGf,QDdP9E,AEWQA,ECwJd,AFrJGV,CAAU,CEqJZmC,GHnKmB,AEWQ,ECwJ5B,aAACA,KAAD,uBAACA,KAAK,CAAE0B,MAAR,CAAJ,EAAoB,aHnKA,AEWQ,EFXJ,AEWQ;AHqBpC,AIoIM,AFrJF;AFkBJ,AIoIK,AHrKuB,AEWQ,ADMhC,UAAIkB,QAAQ,GAAG,iCAAmB,CAACD,QAAQ,CAACC,QAA7B,EAAuCD,QAAQ,CAACC,QAAhD,CAAf;AFiBJ,AEhBI,UAAIE,YAAY,GAAG,iCACjB,CAACH,QAAQ,CAACG,YADO,EAEjBH,QAAQ,CAACG,YAFQ,CAAnB;AFiBJ,AIoIIwE,AHtKA,AEUgC,ADWhC,MEiJAA,GHtKK9I,CCqBDqE,EEiJE,CAAC0E,CHtKP,GAAa,EGsKb,CAAcF,CHtKd,CCqBgB,GAAG,SEiJnB,EACGG,MADH,CACU,UAACC,CAAD,IFjJR,CAAC9E,QAAQ,CAACE,YADO,EAEjBF,QAAQ,CAACE,YAFQ,CAAnB,CARiB,CAajB;AFSJ,AIoIc,AHrKV,AEQgC,ADiBhC,SDzBKpE,MGqKY,CAAC,CAACgJ,CAAT,EHrKV,GAAmB,CAAnB;ADkCJ,AImIc,AHpKV,AEOgC,ADkBhC,OE0IA,EAEGnC,AHrKE5G,IEFC,GCqKN,AHnKA,CGqKW,EHrKI,EAAf,MGqKYgJ,KAAD,EAAW;AJnI1B,AIoIQ,AHrKJ,AEFApE,QAAAA,CFEK3E,AEFJ,EAAE,CCuKKI,ADxKF,GCwKK,GAAG2I,KAAK,AHrKnB,CGqKoBC,EHrKE,EAAtB,CALwB,CAKE,CGqKZ,CAAc5I,GAAxB;AJnIR,AIoIQ2I,AHrKJ,AEFAxE,AD2BAxB,MAAAA,EE4IIgG,ADvKJxE,CAAC,EAAE,CD2BG,CE4IG,AF5IFrF,CE4IG+J,AF5IJ,CAAN,GAAY,CE4IR,GAAc5H,KAAK,CAAC0B,MAAN,CAAa3C,GAAb,CAAd;AJnIR,AIoIO,AD1KG,AD8BJ6D,OEuIF,CFvIEA,QAAQ,EAARA,QADU;AFUhB,AIoIG,AHtKC,AEIgC,ADsB9BK,KElCiB,GFkCjBA,CD1BGrE,AC0BF,EAAEiE,OD1BL,GAAiB,CAAAtE,CCwBL,MDxBY,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEK,SAAT,KAAsB,KAAvC;ADmCJ,AClCI,AC0BEsE,QAAAA,CD1BGrE,AC0BF,EAAEiE,QD1BL,GAAkB,CAAAvE,ACuBN,ODvBa,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEM,UAAT,KAAuB,GAAzC;ADmCJ,AI5CuB,AHUnB,AEEgC,ADwB9BsE,QEnCM0E,AFmCN1E,CD1BGrE,IAAL,AC0BO,EAAE,CEpCU,GACqBE,OADrB,CACX6I,QADW;AJ6CvB,AI7CuB,AHWpB,AECiC,ADoBpB,OAAZ,CE/BkBtJ,OADC,GACqBS,OADrB,CACDT,OADC;AJ8CvB,AI9CuB,ADYa,AD0BjC,QErC4BoE,KDOjB,GCRS,GACqB3D,OADrB,CACQ2D,QADR,kBDQU;AHuCjC,AI/CuB,ADQYJ,ADRoB,QEE3Cc,ADMuBd,MCRZ,ADQkB,EAAE,CCNJsF,IDMStE,ICRzB,CAEXF,MAFW;AJgDvB,AIhDuB,ADQU,ADRsB,OCQzC,oBCNyBwE,QAFhB,CAEHC,OAFG;AJiDvB,AIjDuB,ADYa,ADZmB,QEEnCA,OAFG,YHad,CAAE,EAET,kBGb4B,IAFP;AJkDvB,AI9CI,AFJmD,SEI9CtJ,KAAL,GAAa,IAAI4E,cAAJ,CAAUC,MAAV,EAAkB9E,OAAlB,CAAb;AJ+CJ,AI9CI,ADOgC,ADZmB,SEK9C6I,MAAL,GAAc,IAAI9I,eAAJ,CAAWC,OAAX,CAAd;AJ+CJ,AI7CI,ADKgC,SCL3BwJ,WAAL,GAAmBF,QAAnB;AJ8CJ,AI7CI,ADIgC,AD2BlC,SE/BOlF,AF+BAjB,IC9BI,ED8BX,EE/BE,GAAgBiB,QAAhB,AHSMnE,OAAO;ADqCjB,AI5CI,AHQA,AETWyE,AD+Bd,CAxCD,OCSeA,CCCNnE,ADDO,EFSPN,AETS,CAAL,CCCT,GHQA,GAAaA,KAAb;ADqCJ,AI5CG,AHQA,AEVkB0E,MFWnB,EEXmBA,CAAC,EAAE;AH+CxB,AG/Ca;AHgDb,AG7CoC;AH8CpC;AACA,AG/CoC,2BCC3B,QHQQnE,KAAmB;ADuCpC,AI9CI,AHOgC,AETA,UFSdC,CGPboI,MAAL,AHOgC,CGPpBY,OAAZ,CAAoB,KAAKxJ,KAAzB,oDHO4B,EAAI;ADwCpC,AI9CI,AHOA,AEVgC,WCG3ByJ,AHOAhJ,EEZK,WFYV,CAAmBF,GGPnB,AHOA,CGPuB,CHOCC,IGPI+I,GHO5B,QGPA;AJ+CJ,AI9CG,AHOC,AEXgC,WFW3B7I,oBAAL,CAA0BH,GAA1B;ADwCJ,ACvCI,WAAKI,YAAL,CAAkBJ,GAAlB,EAAuB,KAAKH,SAA5B,EAHgC,CAKhC;ADsCJ,ACrCG,AEdC,SAAKyE,MAAL,GAAcA,MAAd;AHoDJ,AGnDI,SAAKG,GAAL,GAAW,KAAKH,MAAL,CAAYI,UAAZ,CCIKsE,ADJkB,IAAvB,CAAX,QCI6B;AJgDjC,AIhDiC,ADF7B,SAAKrE,WAAL,GAAmB,CAAAnF,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEoF,UAAT,KAAuB;AHmD9C,AGnDgDC,MAAAA,CAAC,EAAE,GAAL,eFYrC;ADwCT,AIlDiC,AHW7B,AEboDC,MAAAA,CAAC,EAAE,CCIrDR,MAF2B,GAmBzB0E,WAnByB,CAE3B1E,MAF2B;AJmDjC,AInDiC,AHY7B,AEd0C,KAA1C,KCKEyE,AHSEpJ,OGZyB,AHYlB,GGOPqJ,WAnByB,CAG3BD,OAH2B,AHYX,KAAKpJ,OAAZ,CAAX;ADwCJ,AIpDiC,ADD7B,SAAKoF,WAAL,GAAmB,CAAAvF,OAAO,GCoBtBwJ,MDpBe,IAAAxJ,CCCU,CAI3B2J,KDLwB,WAAP,ECCU,UDDV3J,OAAO,CAAEwF,UAAT,KAAuB,CAA1C;AHsDJ,AIrDiC,AHc7B,AEdA,SAAKC,CCIHkE,AHUExJ,OAAO,CAACU,KEdZ,CFcI,EEdkB,CAAAb,CCAO,AHcP,CAAtB,EAAyB,GEdI,SAAP,IAAAA,OAAO,WAAP,CCIC,IAJM,ODAPA,OAAO,CAAE0F,aAAT,KAA0B,GAAhD,CANgC,CAMqB;AHsDzD,AItDiC,AHe3B,UGVAkE,EHUI9I,OAAO,EGfgB,CHebX,EGIZqJ,KHJmB,CAACzI,GAAR,EGfa,AHe3B,CGVA6I,WAL2B;AJuDjC,AIvDiC,AHiB3B,AEhBF,SAAKjE,CCKHkE,GHWK1J,MEhBP,CFgBE,CGjB2B,CDCX,CFgBDA,AEhBCH,CCkBdwJ,MHFF,AEhBuB,KCDI,CAM3BK,GDLgB,IAAA7J,ICDW,GDCJ,WAAP,YAAAA,OAAO,CAAE4F,SAAT,KAAsB,CAAxC;AHuDJ,AIxDiC,ADE7B,SAAKZ,CCKH8E,MDLF,GAAe,CAAA9J,KCFc,EDEP,CCiBlBwJ,QDjBW,GCFc,CAO3BM,ADLa9J,OAAO,QCFO,GDEd,YAAAA,OAAO,CAAEgE,MAAT,KAAmB,GAAlC;AHuDJ,AIzDiC,AHmB3B,AEhBF,SAAK6B,CCKHkE,EHWIjJ,KGnBuB,EHmB3B,AEhBF,CCgBI0I,CHAW,CEhBG,CAAAxJ,OAAO,CCHI,CAQ3B+J,OAR2B,ADGX,IAAA/J,OAAO,WAAP,YAAAA,OAAO,CAAE8F,SAAT,KAAsB,SAAxC;AHuDJ,AI1DiC,AHoBzB,AEhBJ,SAAKC,CCKHiE,KHWO5J,IGpBoB,GAmBzBoJ,ADfJ,GAAqB,IFgBjB,CAAoBxI,GGpBK,CAS3BgJ,AHWE,AEhByBhK,CFgBAc,MEhBR,CFgBjB,CGpByB,WDIAd,OAAR,uBAAQA,OAAO,CAAE+F,aAAjB,CAArB;AHuDJ,AI3DiC,AHqBzB,AEfJ,SAAKxF,CCIH0J,GDJF,EFeS/J,EGrBoB,GAmBzBsJ,MHEA,GAAmB1I,EGrBM,CAU3BmJ,IHW4B,CAAC/J,EGrBF,SHqBzB;ADuCR,AI5DiC,AHsB1B,AEfJ,UCIGgK,aAX2B,GAmBzBV,WAnByB,CAW3BU,aAX2B;AJ6DjC,AI7DiC,AHuB5B,UGXCC,gBAZ2B,GAmBzBX,WAnByB,CAY3BW,gBAZ2B;AJ8DjC,AI9DiC,AHwB9B,UGXGC,YAb2B,GAmBzBZ,WAnByB,CAa3BY,YAb2B;AJ+DjC,AI/DiC,UAc3BC,QAd2B,GAmBzBb,WAnByB,CAc3Ba,QAd2B;AJgEjC,AIhEiC,UAe3BC,WAf2B,GAmBzBd,GDVC,QCTwB,CAe3Bc,WAf2B;AJiEjC,AIjEiC,ADU7B,UCMEC,CDNGvE,KCVwB,GAmBzBwD,KDTJ,CAAmB,EFed,CEfL,ECV6B,ADUL,CCMtBe,EDNF,ICV6B;AJkEjC,AIlEiC,AH0B7B,UGTEC,AHSEpK,MG1ByB,GAmBzBoJ,KHOc,MG1BW,CAiB3BgB,MAjB2B,SH0BJ,KAAKpK,cAAZ,CAAlB;ADyCJ,AInEiC,ADW7B,UCOEqK,KAlB2B,GAmBzBjB,WAnByB,CAkB3BiB,KAlB2B,EAmBZ,QDRA,wCAAmB;AHyDxC,ACzCI,AEhBsCzG,QAAAA,EFgBlClD,IEhBwC,EAAE,CFgBnC,GAAGV,CEhBqC4E,aFgBvB,CAACjE,GAAf,EAAd;AD0CJ,AIhDI,AHOA,AEjBoC,OAAnB,CAAjB,ECUM+H,CHOD1I,aGPe,CHOpB,EGPuB,CHODA,cAAtB;AD0CJ,AIhDMuJ,QAAAA,kBAAkB,EAAlBA,kBADqB;AJkD3B,AIhDMC,AHMF,AEjBA,QCWEA,EHME9I,CEjBCmF,MFiBL,EGNa,AHMA,EGNX2D,GDXF,QCSuB;AJmD3B,AIhDMC,AHMA,AEhBF,QCUEA,GDVG3D,EFgBEjF,MGNM,EAAX4I,ADVF,CAAgB,GFgBd,CAAkB/I,AEhBpB,EAAsB,ICOC,ADPvB,CFgBE,CErBG,CAML;AH0DJ,AIhDMgJ,AHMA,AEfH,MACD,ECQIA,KHMK5J,UGNU,CHMf,CGNA4J,EHMmBhJ,OAAO,CAACZ,KGVN,MHUrB;AD2CN,AIhDM6J,AHMD,QGNCA,OAAO,EAAPA,OALqB;AJsD3B,AIhDMC,AHMH,QGNGA,SAAS,EAATA;AJiDN,AIvD2B,OAAvB;AJwDJ,AIhDI,UAAMU,YAAY,GAAG,ODqCXlK,KAAK;AHYnB,AIhDMyJ,ADqCF,QCrCEA,KDqCK,ECrCE,EAAPA,OADmB,cHKL,cEiCMzJ,GAAf,CAAP;AHYJ,AIhDM0J,AHIF,AEiCD,QCrCGA,EHIE,KAAK7J,MGJM,EAAb6J,CHIF,EAAoB,UGNC;AJmDzB,AIhDMC,AHIA,QGJAA,OHIO,KAAKjJ,IGJI,EAAhBiJ,EHIO,CAAc,KAAKjK,QGPP,GHOZ,CAAP;AD6CN,AIhDMkK,AHID,OAFD,CGFEA,KHIK,OGJO,EAAZA,YAJmB;AJqDzB,AIhDMC,AHIA,QGJAA,OHIO,CGJC,EAARA,EHIYnJ,MGTO,EHSZ,CAAc,KAAKC,AE+BhBkE,GAAGC,GAAG,SF/BK,EAAd,CAAP;AD6CN,AIhDMgF,AHID,AE+BD,QCnCEA,GDmCGnF,QCnCQ,EAAXmF,CDmCF,GAAmB,OCzCE;AJuDzB,AIhDMC,AHIH,AE8BsBlF,QClCnBkF,ADkCmBlF,CAAC,EAADA,CAAF,EClCX,EAANkF,MAPmB;AJwDzB,AIhDMC,ADiCsBlF,QCjCtBkF,ADiCsBlF,CAAC,EAADA,GCjChB,EAANkF,MARmB;AJyDzB,AIhDMC,ADgCiB,OAAnB,CChCEA,KAAK,EAALA;AJiDN,AI1DyB,AD0CtB,OC1CC,sBHYOrJ,OAAO;AD+ClB,AC9CI;AD+CJ,AIjDI,AHGA,UGHMuJ,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAC7B,cAAD,EAAoB;AJkD1D,AIjDMC,AHIF,QGJEA,EHIE1H,IGJI,AHIA,CGJC2H,EHIE,IGJT,CAAcF,AHIAxH,SE2BPoD,GAAGC,EC/BV,AHIS,CE2BI,CC9BVsE,AHGL,MGJE,CACU,UAACC,CAAD;AJiDhB,AIjDgB,AHIZ,AE2BA,UF3BI3H,KAAK,EGJU,CAAC,AHIRF,CGJS6H,CAAT,EHII,CAAC1H,MAAL,CAAYJ,KAAZ,CAAZ,QE2BgB;AHmBpB,AIlDgB,AHKZ,AE0BkBsD,QAAAA,CChChB,ADgCiB,CF1BfjD,CGLoB,AD+BNiD,CAAF,GF1BP,GAAGnD,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAEG,YAAP,EAAZ,CANc,CAQd;AD4CJ,AIpDM,AHSF,AEuBqBiD,QAAAA,CC9BhBoC,AD8BiB,EAADpC,KChCnB,CAEW,UAACwE,KAAD,EAAW;AJmD5B,AIlDU,AHON,AEsBgB,OAAhB,OC7BYyB,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAO;AJmDtC,AIlDY,AHOR,AEsBD,MAED,UC/BcpJ,KAAK,GAAG,MAAI,CAACoH,MAAL,CAAYtG,eAAZ,EAAZ;AJmDZ,AC3CI,AEwBF;AHoBF,AInDY,AHQR,AEwBF,gBChCcd,KAAJ,EAAW;AJoDvB,AInDc,AHQV,AEwBF,kBChCgBjB,GAAG,GAAG2I,KAAK,CAACC,OAAN,CAAc5I,GAAxB;AJoDd,AInDc,AHQV,AEyBF,kBCjCgB6C,GAAG,GAAGwH,CAAC,CAACC,MAAF,CAASzB,KAAnB,CAFS,CAGT;AJmDd,AC3CI,AE0BF;AHkBF,AInDc5H,cAAAA,KAAK,CAACsJ,SAAN,CAAgBvK,GAAhB,EAAqB6C,GAArB;AJoDd,AC3CI,aAAO5B,KAAP;AD4CJ,AIpDc,AHSX,MAED,QGXY,MAAI,CAACuJ,cAAL;AJqDd,AIpDa,AHWX,+BEsBW7E,aAAgC;AHoB7C,AIpDW,ADgCkC,WCzCnC;AJ8DV;AACA,AIrDUgD,AD+BmC,UC/BnCA,AD+BgB9I,KC/BX,CAAC4K,GD+B6B,aC/BnC,CAAuB,OAAvB,EAAgCL,YAAhC,oCD+B4B,KAAO;AHuB7C,AIrDS,AD8BoC,SC5CvC,qBD6Ca,GFtBJ,EEsBSzF,WADqB;AHwB7C,AIrDK,AHSD,AEoByC,OC7CzC,GHyBI9D,AEqBEgE,CADmC,GFpBjC,GAAG,KAAK/D,UEqBV+D,CADmC,GFpB9B,GAAsB7D,MAAjC;AD6CJ,AGzB6C,UAChC8D,CADgC,qBAChCA,CADgC;AH0B7C,AItDI,AHSA,AEqBA,UC9BM4F,AHSF,AEqBA9E,KFrBKlG,AEqBA,GAAGmF,CAAC,GAAG,IFrBZ,KAAqB,EGTI,EHS7B,CGTgC,CHSD,QGTzB6F,eD8BwBxG,CAAd,GAAkB,CAAlC,GC9BgC,CAACgG,YAAD,EAAkB;AJuDtD,AIvDsD,AHUhD,AEqBF,UAAIrE,EC7BA4D,CHQG/J,GEqBG,GC/BwC,AD+BrCoF,CAAC,ECpBRoF,CDoBW,CFrBf,GAAmB,CAAnB,MGVgD,CAE9CT,OAF8C,mBD+BnBtF,CAAd,GAAkB,CAAnC,CAHyC,CAIzC;AHwBJ,AIxDsD,AHWhD,YGREuF,aAH8C,GAW5CQ,YAX4C,CAG9CR,aAH8C;AJyDtD,AIzDsD,AHYjD,AEqBD,UAAI5D,EC7BA6D,AD6BE,gBCjC4C,GAW5CO,MDsBG,IAAH,ECjC4C,CAI9CP,SD6BJ,OCjCkD;AJ0DtD,AI1DsD,YAK9CC,YAL8C,GAW5CM,YAX4C,CAK9CN,YAL8C;AJ2DtD,AI3DsD,AHalD,AEsBA,UFtBI,AEsBA7D,EC7BA8D,CD6BG,EFtBEhK,CEsBC,CAAV,GCnCkD,GAW5CqK,CHEN,EAAoB,SGb8B,CAM9CL,QAN8C;AJ4DtD,AI5DsD,AHchD,AEsBF,UAAI7D,EC7BA8D,AHOE,KAAKpK,GEsBG,GCpCoC,ADoCjC,GCzBXwK,EHGA,AEsBN,GFtByBrJ,IAAI,CAACR,EGdoB,CAO9CyJ,GHOF,EAAoC,MGdY;AJ6DtD,AI7DsD,AHe9C,AEsBJ,UAAI7D,EC7BA8D,MAR8C,GAW5CG,GD0BY,GAAG,KAArB,CCrCkD,CAQ9CH,MAR8C;AJ8DtD,AI9DsD,AHgB9C,YGPAC,GHOKtK,GGhByC,GAW5CwK,KHKF,OGhB8C,CAS9CF,MAT8C;AJ+DtD,AI/DsD,AHiB/C,AEsBH,SFzBE,CEyBE,CAACrE,CC7BDsE,GHOK,EGjByC,GAW5CC,ED4BN,EAAkB,QCvCgC,CAU9CD,KAV8C;AJgEtD,AC9CQ,AEsBF,YAAI/D,EAAE,GAAG,sCAAchC,CAAd,GAAmB,IAAI0B,KAAL,IAAe,mCAAW1B,CAAX,GAAe,CAA9B,CAA3B;AHyBN,AIpDM,AHMC,AEsBD,YC5BMyG,AD4BFxE,EAAE,GAAG,QC5BU,GAAG,SAAhBwE,aAAgB,CAACN,CAAD,EAAO,CD4BNlG,CAAd,GAAmB,IAAI0B,MAAL,IAAgB,mCAAW1B,CAAX,GAAe,CAA/B,CAA3B;AHyBN,AIpDQkG,AHMH,AEsBC,UC5BEA,CAAC,CAACO,CD4BCxE,UAAL,CAAgB,EC5Bd,CD4BF,EAAqBF,EAArB,EAAyBC,EAAzB;AHyBN,AGxBM;AHyBN,AIrDQ,AHMJ,AEuBC,UC7BG,AHMA,CAAC,KGNG,AHMEtG,CGNDwI,MAAL,CAAYwC,CHMhB,EAAqB,WGNjB,CAA2BR,CAAC,CAACrK,GAA7B;AJsDR,AC/CM,YAAI,KAAKN,WAAL,GAAmBmB,IAAI,CAACR,MAAL,GAAc,CAArC,EAAwC;ADgD9C,AItDQ,AHOA,AEu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CA5C,MAAX,GAAoB6G,ADwCd,CCxCe,ADyCbpJ,CCzCcqJ,IDyCT,CAACtK,CCzCM,CAAS6I,CDwCvB,EAGE3C,EC3CR,ADwCM,EAIEC,EAJF,EAKElF,KAAK,CAAC0B,MALR,EAME1B,KAAK,CAAC2B,YANR;AHuBd,ACnDK,AEoCQ,eATD,MASO,IAAI3B,KAAK,CAACjB,GAAN,KAAc,OAAlB,EAA2B;AHgB9C,AI/DQ,ADgDMqG,UChDN,MAAI,ADgDEA,CChDDmE,ADgDE,cChDP;AJgER,AI/DO,AHWH,AEqCUlE,SCnDR,CHcE,KAAKzG,CEqCCyG,CAAC,GAAG,CAAC,CAAL,EFrCV,EAAoB;ADqDxB,ACpDM,AEqCO,YFrCH,KAAK5G,WAAL,GAAmBmB,IAAI,CAACR,MAAL,GAAc,CAArC,EAAwC;ADqD9C,AIhEM,AHYE,AEqCG,YCjDC8K,CDmCF,oBCnCuB,GAAG,SAAxBA,qBAAwB,GAAM;AJiE1C,AIhEQ,AHYA,UGZA,MAAI,CAAC9C,AHYE,KAAK3I,CGZZ,CAAYG,SAAZ,AHYO,GGZiB,AHYE,CGZD,AHYzB,MGZ6B,CAACwI,MAAL,CAAYxI,SAArC;AJiER,ACpDO,AEqCG,SFxCJ,MAGO,CEqCCmG,UAAJ,EAAgB;AHgB1B,AIjEQ,AHaA,AEqCI,UClDJ,IDkDI,EClDA,CAACwE,EDkDG,CAACpE,UAAL,CClDJ,ADkDoB,GAAhB,EAAqBF,EAArB,EAAyBC,EAAzB;AHgBZ,AIjEO,AHaA,SGhBD;AJqEN,ACpDK,AEoCOF,cAAAA,cAAc,GAAG,IAAjB;AHiBZ,AIlEM,ADkDMD,YClDAoF,EDkDApF,UAAU,GAAG,CClDG,GAAG,CDkDnB,QClDAoF,gBAAmB,GAAM;AJmErC,AIlEQ,AHaJ,AEqCO,UClDH,AHaA,CAAC,EEgB8B,CAuB7B,ECpDE,AHaEvL,CGbDwI,MAAL,CAAYgD,CHahB,EAAqB,CGbjB;AJmER,ACrDM,YAAI,KAAK3L,WAAL,GAAmBmB,IAAI,CAACR,MAA5B,EAAoC;ADsD1C,AInEQ,AHcA,cGdIQ,GHcG,CGdC,GAAG,CHcCnB,KGdG,CAAC2I,KHcT,CGdI,CAAYvH,CHcG,CAA1B,YGdW,EAAX,CAF6B,CAG7B;AJmER,AIlEQ,AHaD,AEqCG,SFvCJ,MAEO,CEqCCC,KAAK,CAACwB,MAAV,EAAkB;AHiB5B,ACrDQ,AEqCI,kBAAI1C,SAAJ,EAAe;AHiB3B,ACrDO,AEqCO,gBAAA,KAAI,CAACuG,UAAL,CAAgB,GAAhB,EAAqBF,EAArB,EAAyBC,EAAzB;AHiBd,AIpEQ,AHeH,UGfG,MAAI,CAACqE,cAAL;AJqER,AIpEO,AHeJ,AEoCWvE,SCzDR,ODyDQA,cAAc,GAAG,IAAjB;AHkBd,AGjBa,eAHD,MAGO;AHkBnB,AIrEM,ADoDQ,YCpDFqF,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AJsErC,AIrEQ,ADoDMtF,UCpDN,MAAI,ADoDEA,CCpDDqC,MAAL,CAAYkD,EDoDI,ECpDhB,CDoDmB,IAAb,IFrCK;ADuDnB,ACtDI,AEqCS,UFrCL1K,IAAI,GAAG,KAAKlB,OAAL,CAAa,KAAKA,OAAL,CAAaU,MAAb,GAAsB,CAAnC,KAAyC,IAAIc,YAAJ,EAApD;ADuDJ,AItEQ,AHgBJ,AEqCO,UCrDH,GHgBGN,GGhBC,CAAC2J,AHgBT,cGhBI;AJuER,AItEO,AHgBJ,AEqCM,SCxDH;AJ0EN;AACA,AIvEM,ADsDE,YCtDIgB,EDsDA,CAACzK,KAAD,IAAU,CAACkF,OCtDS,GAAG,IDsD3B,EAA+B,GCtD3BuF,oBAAuB,CAACnB,CAAD,EAAO;AJwE1C,AIvEQ,ADsDE,UCtDF,EDsDE,ICtDE,CAAC5K,ADsDC,CAAC2G,ICtDP,CAAWd,KDsDT,CAAgB,GCtDlB,ADsDE,CFtCKlE,CEsCgB8E,CCtDAmE,CAAC,ADsDtB,CCtDuBC,CDsDEnE,EAAzB,GCtDqB,CAAS0C,EHgBZ,GGhBpB;AJwER,AIvEQvH,AHgBJ,UGhBIA,AHgBA,KAAK3B,EGhBE,CAAC4B,GAAR,CAAY8I,AHgBZ,CGhBa,AHgBAhK,CGhBCiK,KHgBd,CGhBY,CAASzB,GHgBG,EGhBxB,GHgB6B/I,UAAjC,EAA6C;ADwDjD,ACvDM,AEqCImG,YAAAA,CFrCCtG,OAAL,CAAa0B,KEqCK,CFrClB,CAAoB,CAApB,AEqCqB,EFrCE,CAAvB,CEqCI;AHmBV,AIxEQ,AHiBH,AEsCK,UCvDF,MAAI,CAACmJ,cAAL;AJyER,AIxEO,ADuDE,SC3DH,CApDgD,CA0DhD;AJuEN,ACxDI,WAAK7K,OAAL,CAAaa,IAAb,CAAkBY,WAAlB;ADyDJ,ACxDG,AEuCK2E,MFrCN,IEqCMA,GAAG;AHkBX,AIxEM0D,ADJiC,QCIjCA,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEgB,gBAAT,CAA0B,OAA1B,EAAmCe,oBAAnC;AJyEN,AIxEM9B,QAAAA,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEe,gBAAf,CAAgC,OAAhC,EAAyCM,qBAAzC;AJyEN,AIxEMpB,ADLA,QCKAA,KDLKrD,CAAC,GAAG,CAAT,EAAYA,CAAC,GCKG,ADLA,SCKhB,IAAAqD,gBAAgB,MDLWzF,CAAX,GAAe,CCK/B,ADLA,EAAkCoC,CAAC,EAAnC,EAAuC,KCKvCqD,gBAAgB,CAAEc,gBAAlB,CAAmC,OAAnC,EAA4CO,wBAA5C;AJyEN,AIxEMpB,ADNuC,QCMvCA,YAAY,SAAZ,IAAAA,CHeU5J,KAAKC,MGfH,GHeY,QGfxB,YAAA2J,YAAY,CAAEa,gBAAd,CAA+B,OAA/B,EAAwCQ,oBAAxC;AJyEN,AIxEMpB,AHeFvI,MAAAA,EGfEuI,KHeK,CAACtI,EGfE,CHeV,CAAY,KAAK7B,EGff,IAAAmK,KHeF,EAD0B,CGdhB,AHgBV,WGhBE,YAAAA,QAAQ,CAAEY,gBAAV,CAA2B,OAA3B,EAAoCS,iBAApC;AJyEN,AIxEMpB,ADRuC,QCQvCA,WAAW,SAAX,IAAAA,AD8CI,WC9CO,WAAX,YAAAA,WAAW,CAAEW,gBAAb,CAA8B,OAA9B,EAAuCU,qBAAvC;AJyEN,AIxEMpB,AHeF,AEkCG,QCjDDA,EHeEvI,IGfI,IHeI,GAAG,EGfb,GHekBV,CGflBiJ,MAAM,OHeO,EAAf,CAH0B,CGZxB,AHiBF,YGjBEA,MAAM,CAAEU,gBAAR,CAAyB,OAAzB,EAAkCW,gBAAlC;AJyEN,AIxEMpB,QAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAES,gBAAR,CAAyB,OAAzB,EAAkCa,gBAAlC;AJyEN,AIxEMrB,AHgBF,AEgCE,QChDAA,EHgBExI,EEgCEV,CChDC,CHgBC,GAAG,AEgCA,GAAG4E,EChDZ,IAAAsE,KAAK,ADgDI,OFhCUzI,IGhBnB,EDgDYmE,EFhCH,CAAX,OGhBEsE,CDgDS,IChDJ,CAAEQ,gBAAP,CAAwB,CDgDZ9E,QChDZ,EAAmCgF,CDgDZ,CAAE3J,MAAb,CAAoB+E,GAApB,CChDZ,ADgDA;AHyBN,AIxEK,AHiBD,OGrFA,GHqFIrE,UAAJ;ADwDJ,ACvDI,AE+BE,UF/BET,EE+BE,CAACF,EF/BE,GAAG,AE+BV,EAAY,EF/BEY,KAAJ,CAAU3B,GAAV,EAAe,EAAf,CAAZ;ADwDJ,AIzEI,ADiDI,UCjDEyL,WAAW,GAAG,SAAdA,WAAc,CAACzC,WAAD,EAAiB;AJ0EzC,AI1EyC,AHkBrC,AEgCI,UFhCA,EGjBMS,GHiBDhK,IGlB4B,CHkBrC,EGjBsBuJ,AHiBN,WGlBqB,CAC3BS,OAD2B,EAEnC;AJyEN,ACxDMxI,AEgCC,QFhCDA,KAAK,CAACW,SAAN,CAAgB,KAAKnC,KAAL,CAAWoC,iBAAX,CAA6BZ,KAA7B,CAAhB;ADyDN,AIzEMwI,AHiBD,AEgCA,OF5CyB,AEjDe,CC4CvCA,AHmBF,AEgCA,OCnDS,KAAKA,OAAO,CAACZ,KAAR,GAAgB,MAAI,CAACpJ,KAAL,CAAW6F,SAAhC,CAAP;AJ0EN,AIzEK,ADmDD,OCvDA;AJ8EJ,AGtBI;AHuBJ,AIzEIoF,AHiBA,AEkCA,MCnDAA,IHiBI1K,GAAG,KAAK,WGjBW,AHiBvB,CGjBwBkK,CHiBC,WGjBF,CAAvB;AJ0EJ,AIzEIC,AHiBE,AEkCF,MCnDAA,MHiBM,KAAKtK,SAAT,EAAoB,GGjBG,CAACyI,cAAD,CAAzB;AJ0EJ,AIzEImD,AHiBI,AEkCJ,MCnDAA,SHiBSvL,EGjBE,CAAC8I,UHiBR,CGjBO,AHiBY,CGjBvB,UHiBI,EAAgC/I,OAAhC;ADyDR,AIzEG,AHiBK;ADyDR,ACxDO,AEiCJ,SFpCG,MAGO;ADyDb,ACxDQ,cAAI,KAAKP,WAAL,KAAqB,IAAzB,EAA+B;ADyDvC,ACxDU;ADyDV,ACxDS,oCE+BS;AH0BlB,AGzBI;AH0BJ,ACzDQ+B,AEgCJ,UFhCIA,IAAI,CAACK,MAAL,CAAY,KAAKpC,WAAjB;AD0DR,ACzDQ,AEiCJ,WAAK+E,GAAL,CFjCShE,AEiCA+F,SAAT,CAAmB,CAAnB,CFjCI,CAAkB/E,AEiCA,CAAtB,EAAyB,CFjCrB,IEiC0BkD,WAAL,CAAiBiB,KAA1C,EAAiD,KAAKjB,WAAL,CAAiB8B,OAAlE;AHyBJ,ACzDO,AEiCH,WAAKnC,MAAL,CAAYsB,KAAZ,GAAoB,KAAKjB,WAAL,CAAiBE,CAArC;AHyBJ,AGxBI,WAAKP,MAAL,CAAYuB,MAAZ,GAAqB,KAAKlB,WAAL,CAAiBG,CAAtC,CANc,CAOd;AHwBJ,AC1DM,AEmCF;AHwBJ,AC1DK,AEmCD;AHwBJ;AACA,AC1DI,AEmCA,UFnCI9E,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,IEmCjB,KAAKmF,GFnCvB,EAAiD,KEmC/B,GAAkB,KAAKR,WAAL,CAAiBE,CAApC,GAAyC,EAA1D;AHwBJ,AC1DM,aAAKpE,YAAL,CAAkBgB,IAAlB;AD2DN,AC1DM,AEkCF,WAAKiF,UAAL,uBAAgB,IAAhB,oCAAgC,IAAhC;AHyBJ,AC1DK,AEmCD,UAAIC,eAAe,GAAG,oBACpB,yCAAiB,CADG,EAEpB,KAAKhC,WAAL,CAAiBE,CAAjB,GAAqB,EAFD,EAGpB,KAAKF,WAAL,CAAiBE,CAAjB,GAAqB,EAHD,CAAtB;AHwBJ,AGlBI,WAAK6B,UAAL,CAAgBC,eAAhB,wBAAiC,IAAjC;AHmBJ,AC1DI,UAAI3G,GAAG,CAACK,MAAJ,KAAe,CAAf,IAAoBL,GAAG,KAAK,OAAhC,EAAyC,CACvC;AD0DN,ACzDK,AEuCD,OFzCA,MAEO,4BEuCM;AHmBjB,ACzDM,AEuCAkE,QAAAA,CAAC,EACC,CAAC,KAAKS,WAAL,CAAiBE,CAAjB,GAAqB,IAAI,sCAAcX,CAAxC,KACC,KAAKe,cAAL,yBAAsB,IAAtB,YADD,CAFS;AHoBjB,ACzDM,AEyCAd,QAAAA,CAAC,EAAE,KAAKQ,WAAL,CAAiBG,CAAjB,IAAsB,KAAKC,WAAL,yBAAmB,IAAnB,YAAtB;AHiBT,ACzDK,AEoCY,OF3Ea,AE2E1B,CFlCA;ADwDJ,ACtDI,AEsCD,MAED;AHeF;AACA;AACA,ACxDI,UAAI,CAAC,KAAKhD,eAAL,EAAL,EAA6B;ADyDjC,ACxDMT,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAD2B,AEyCpBqF,CFvCP,OEuCe1C,GAAGC,GAAGxB,QAAQC,cAAc;AHiBjD,AGhBI,WAAK6B,GAAL,CAASoC,SAAT,GAAqB,QAArB;AHiBJ,ACxDMnF,AEwCF,QFxCEA,GEwCG+C,GAAL,CAASqC,GFxCG,GAAG,IAAI9E,EEwCnB,GAAwB,KFxCT,CAAef,EEwC9B,CAF6C,CAG7C,CFzCe,CAAb;ADyDN,ACxDMK,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB,KAAKZ,eAAL,EAAnB;ADyDN,ACxDMc,AEwCF,QFxCEA,GEwCGgD,CFxCC,CAACxC,CEwCP,CAAS8E,IFxCP,AEwCF,CFxCcrF,UAAZ,EAAwB,KAAKf,eAAL,EAAxB,AEwCiB,IAAnB;AHiBJ,ACxDM,AEyCF,WAAK8D,EFzCEhE,CEyCP,CAASuG,SAAT,CFzCE,CAAkBvF,CEyCC,GFzCnB,EEyCwB4D,UAA1B;AHgBJ,ACxDM,AE0CF,UAAI4B,YAAJ;AHeJ,ACxDK,AE2CD,OFnDA,GEmDIC,GF3CG,KE2CK,GAAG,KAAKC,WAAL,CAAiBP,MAAjB,CAAf;AHcJ,ACxDM,YAAI,KAAK/G,SAAT,EAAoB;ADyD1B,ACxDQ,AE0CJ,UAAI+C,IF1CIV,CAAC,GAAG,IE0CZ,CF1CiBvB,CE0CC,cF1CN,EAAR;ADyDR,ACxDQW,AE0CF,UF1CEA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBW,CAAtB,EAFkB,CAGlB;ADwDR,AGdM+E,QAAAA,YAAY,GAAGtE,MAAf;AHeN,ACxDQjB,AE0CH,OAHD,GFvCIA,GE0CG,IAAIwF,GF1CG,GAAGzF,EE0CV,EF1Cc,AE0CA,CF1CCT,MAAL,CAAY,KAAKtB,WAAjB,CAAb;ADyDR,AGdM;AHeN,ACzDQ,AE2CFuH,QAAAA,MF3CMvF,ME2CM,GAAGwF,CF3Cb,EAAgB,KE2ClB;AHeN,ACzDUxF,AE2CL,YF3CKA,UAAU,CAACS,GAAX,CAAelB,KAAf;AD0DV,ACzDUQ,YAAAA,IAAI,CAACW,OAAL,CAAaV,UAAb,EAAyB,KAAKhC,WAA9B;AD0DV,ACzDS,AE2CL,UAAIuH,CF9CA,MAGO,KE2CX,EAAkB;AHetB,ACzDUvF,AE0CY,YF1CZA,UAAU,GAAG,GEkDbuF,CFlDiBjF,UAAJ,CAAef,AE0ChB,KF1CC,CAAb;AD0DV,ACzDUQ,AEyCY,YFzCZA,AE2CF2C,IF3CM,CAACnC,AEyCO,MFzCZ,CAAYP,UAAZ,AE2CF0C,EF3C0B,GEyCZ,EFzCiBzD,eAAL,EAAxB;AD0DV,ACzDS,AEwCa,YAGXyG,IAHW,iBAGdlD,CAHc;AHkBtB,AGlBsB,YAIXmD,IAJW,iBAIdlD,CAJc;AHmBtB,AC1DQ,AEuCc,YAKJmD,GF5CL7G,AEuCS,YFvCd,CAAkBgB,IAAlB,AE4CAoC,QALc;AHoBtB,AC1DO,AEsCe,SFnDhB,MAaO,iCE4CL0D,KANc;AHqBtB,AC1DQ,AEqCc,YAMdA,KANc,oCAMN,KAAKlC,UANC;AHsBtB,AC1DQ3D,AEoCc,UFpCdA,UAAU,GAAG,IAAIM,UAAJ,CAAef,KAAf,CAAb,ME2CAuG,OAPc;AHuBtB,AGvBsB,YAOdA,OAPc,sCAOJ7E,MAAM,CAAC6E,OAPH;AHwBtB,AC3DQ,AE4CF,YAAIC,EF5CEvF,EAAC,EE4CG,CF5CA,EE4CGkC,GF5CEzD,EE4Cf,aF5CU,EAAR;AD4DR,AGfM,YAAI+G,MAAM,GAAGtD,KAAb,CAVgB,CAYhB;AHcN,AC5DQ9C,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBW,EAApB;AD6DR,AC5DQT,AE8CF,UF9CEA,EE8CEkG,EF9CE,CAAC1F,AE8CP,MF9CE,CAAYP,UAAZ,EAAwB,KAAKf,eAAL,EAAxB,EALK,CAML;AD4DR,AC3DQ,AE6CFgH,QAAAA,GAAG,GAAG,uBAASJ,KAAT,EAAgBC,OAAhB,CAAN;AHeN,AC3DQ,AE8CF,aAAK/C,GAAL,CAASuC,SAAT,GAAqBW,GAArB,CAhBgB,CAkBhB;AHYN,AC3DQ;AD4DR,AC3DQ,AE+CF,aAAKlD,GAAL,CAASmD,YAAT,CACEH,MADF,EAEE,CAFF,EAGE,CAHF,EAIEC,MAJF,EAKExD,CAAC,GAAGkD,IAAI,yBAAG,IAAH,YALV,EAMEjD,CAAC,GAAGkD,IAAI,yBAAG,IAAH,YANV,EAnBgB,CA0Bb;AHMT;AACA,AC3DQ,AEqDF,aAAK5C,EFrDEhE,CEqDP,CAASoH,MAAT,CAAiBP,GFrDf,AEqDkB,CFrDA7F,EEqDGpD,EFrDrB,EEqDyB,CAACyJ,EAAZ,GAAkB,GAAlC;AHON,AC3DO,AEqDD,aAAKrD,GAAL,CAASsD,QAAT,CAAkBnB,MAAlB,EAA0B,CAA1B,EAA6B,CAA7B,EA5BgB,CA8BhB;AHKN,AC3DK;AD4DL,AC3DG,AEsDG,aAAKnC,GAAL,CAASoD,MAAT,CAAiB,CAACP,GAAD,GAAOjJ,IAAI,CAACyJ,EAAb,GAAmB,GAAnC;AHMN,AGLM,aAAKrD,GAAL,CAASmD,YAAT,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAhCgB,CAgCyB;AHM/C,AGLK,OAjCD,MAiCO;AHMX,AGLM,aAAKnD,GAAL,CAASsD,QAAT,CAAkBnB,MAAlB,EAA0B1C,CAA1B,EAA6BC,CAA7B,GFxDiBnE,KAAK;AD8D5B,AC7DI,AEwDC,OAtD4C,CAwD7C;AHIJ,AC5DI,UAAI,KAAKH,SAAT,EAAoB;AD6DxB,AC5DM,AEwDH,YFxDOG,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,YAA/B,IAA+CA,GAAG,KAAK,WAA3D,EAAwE;AD6D9E,AC5DQ;AD6DR,AC5DO;AD6DP,sCGLoBiB,OAAO;AHM3B,AC7DM,AEwDF,UAAInC,CAAJ,EFxDOc,cAAL,GAAsB,EAAtB;AD8DN,AC7DK;AD8DL,AGNI,UAAI,KAAK2F,aAAT,EAAwB;AHO5B,AC9DI,AEwDEzG,QAAAA,CAAC,CFxDC,CAAC,CEwDC,IFxDIe,SAAV,EAAqB,kBEwDI,GAAnB,EAAwB,GAAxB,CAAJ;AHON,AC9DM,AEwDD,OAFD,KFtDMG,CEwDC,EFxDE,KAAK,WAAR,IAAuBA,GAAG,KAAK,YAAnC,EAAiD;AD+DvD,AC9DQ,AEwDFlB,QAAAA,CAAC,GAAG,CAAJ;AHON,AC9DO,AEwDF;AHOL;AACA,AC/DM,AEwDF,aFxDOc,cAAL,GAAsB,EAAtB,aEyDG,KAAKuH,WAAL,CAAiBlG,KAAK,CAACjB,GAAvB,CADL;AHQJ,AC/DK,AEyDCuH,QAAAA,KAAK,EAAE,KAAKjC,SAFd;AHSJ,AC/DG,AEyDGkC,MFxDJ,EEwDIA,OAAO,EAAE1I;AHOf,AGVI;AHWJ,AGNG,MAED;AHKF;AACA,iCCjEekB,KAAKH,WAAW;ADkE/B,AClE+B;ADmE/B,+BGPa;AHQb,ACnEI,AE2DS,UF3DHwC,qBE4DS,EF5Dc,GAAG,AE4DZsC,SF5DdtC,EE2DG,qBF3DuB,GAAM;ADoE1C,ACnEM,AE0DO,UACHwC,CADG,CF1DHhE,IAAI,GAAG,KAAI,CAACC,QE2DZ+D,CADG,KF1DI,EAAX;ADoEN,AGVa,UACAC,CADA,sBACAA,CADA;AHWb,ACpEMjE,AE2DF,QF3DEA,EE2DE+E,EF3DE,CAACtD,EE2DE,GAAGuC,CAAC,GAAG,OF3Dd,GAFoC,CAGpC,2BE0D4BX,CAAd,GAAkB,CAAlC;AHUJ,AGTI,UAAI2B,MAAM,GAAGf,CAAC,GAAG,sCAAcX,CAAd,GAAkB,CAAnC;AHUJ,ACnEM,YAAItD,IAAI,CAACG,MAAL,CAAYX,MAAZ,IAAsBQ,IAAI,CAACG,MAAL,CAAY,KAAI,CAACtB,WAAjB,CAA1B,EAAyD;ADoE/D,ACnEQ,AEyDJ,UAAIoG,EAAE,GAAGF,KAAK,GAAG,mCAAW1B,CAA5B,CAJS,CAKT;AHUJ,ACnEQrD,UAAAA,IAAI,CAACG,MAAL,CAAY,KAAI,CAACtB,WAAjB,EAA8B6C,MAA9B,GAAuC,IAAvC;ADoER;AACA,ACnEQ,AEyDJ,WAAK,GFzDG1C,CEyDCwG,CAAC,GAAG,CAAb,EAAgBA,CFzDZ,AEyDa,EFzDE,CEyDC,mCAAWnC,CAA/B,EAAkCmC,CAAC,EAAnC,EAAuC;AHW3C,ACnEU,AEyDJ,aAAK,GFxDCrG,CEwDGsG,CAAC,CFxDD,EEwDI,CAAb,EFxDc,AEwDEA,CAAC,GAAG,OFxDd,IACAtG,GAAG,KAAK,YADR,IAEAA,AEsDyBmE,CAA/B,EFtDS,AEsDyBmC,CAAC,EAAnC,EFtDc,AEsDyB,WFzDnC,EAIE;ADgEZ,AC/DYzF,AEqDJ,cFrDIA,AEqDAqF,EAAE,EFrDE,CAAC1D,AEqDA,cFrDL,GAAsB,IAAtB,iBEqDmB0B,CAAd,GAAmBmC,CAAC,GAAGT,KAAL,IAAe,mCAAW1B,CAAX,GAAe,CAA9B,CAA3B;AHWR,AC/DW,AEqDH,cAAIiC,EAAE,GAAG,sCAAchC,CAAd,GAAmBmC,CAAC,GAAGT,MAAL,IAAgB,mCAAW1B,CAAX,GAAe,CAA/B,CAA3B;AHWR;AACA,AChEU,AEsDF,cAAIkC,CAAC,CFtDCrG,GAAG,CAACK,AEsDA,CAAN,IAAWiG,CFtDT,AEsDU,KFtDK,AEsDA,CFtDnB,AEsDF,EFtDwB,AEsDA;AHWhC,AChEYzF,AEsDF,cFtDEA,GEsDGuF,CFtDC,CAAC5D,QEsDP,CAAgB,GAAhB,EFtDE,AEsDmB0D,EAArB,CFtDwB,CEsDCC,EAAzB,EFtDE;ADiEZ,AChEW,AEsDF;AHWT,AChES;ADiET,AGXQ,cAAIE,CAAC,KAAK,CAAN,IAAWC,CAAC,KAAK,CAArB,EAAwB;AHYhC,ACjEQ,AEsDE,cFtDE,CAACzG,EEsDEuG,OFtDP,EAAgB,CEsDd,CAAgB,GAAhB,EAAqBF,EAArB,EAAyBC,EAAzB;AHYV,ACjEU,AEsDD,gBFtDKnG,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,YAAnC,EAAiD;ADkE3D,ACjEYa,cAAAA,IAAI,CAAC2B,cAAL,GAAsB,IAAtB;ADkEZ,ACjEW,AEqDH,eAAKiC,GAAL,CAASuD,SAAT;AHaR,AGZQ,eAAKvD,GAAL,CAASwD,GAAT,CAAa/B,EAAb,EAAiBC,EAAjB,EAAqBL,EAAE,GAAG,CAA1B,EAA6B,CAA7B,EAAgC,IAAIzH,IAAI,CAACyJ,EAAzC;AHaR,AClEU,AEsDF,eAAKrD,CFtDCzE,EEsDN,CFtDS,AEsDAkI,CFtDC7H,KEsDV,CFtDM,KAAe,CAAnB,EAAsB;ADmEhC,AClEYQ,AEsDL,cFtDKA,IAAI,CAAC2B,cAAL,GAAsB,KAAtB;ADmEZ,AClEW,AEsDN;AHaL,AClES,AEsDN;AHaH,AClEO,SAxBD,MAwBO,CACL;ADkER,ACjEQ;ADkER,ACjEQ,wBEvPW;AHyTnB,ACjEQ,AEvPJ,aAAO,KAAKuC,WAAZ;AHyTJ,ACjEQ,AEvPL;AHyTH,ACjEQ;ADkER,ACjEQ,AEtON;AHwSF,ACjEQ;ADkER,ACjEQ;ADkER,ACjEQ,sBEtOSlC,KAAK;AHwStB,ACjEQ,AEtOJ,WAAKkC,WAAL,GAAmBlC,GAAnB;AHwSJ,ACjEQ,AEtOJ,WAAK4C,aAAL;AHwSJ,ACjEO,AEtOJ;AHwSH;AACA,ACjEM5E,QAAAA,IAAI,CAACnB,WAAL,GAAmB,KAAI,CAACA,WAAxB;ADkEN,ACjEK,OA7CD,iBEpNkB;AHmUtB,AGlUI,aAAO,KAAKyI,eAAZ;AHmUJ,ACjEI,AEjQD,UFiQK,CAACtI,SAAL,EAAgB;ADkEpB,ACjEM,YAAIG,GAAG,CAACK,MAAJ,AE3OUwC,KF2OK,AE3OA,CF2Of,IAAoB7C,GAAG,KAAK,OAA5B,IAAuCA,GAAG,KAAK,YAAnD,EAAiE;ADkEvE,ACjEQ,AE3OJ,WAAKiF,IF2OIxC,UAAL,AE3OJ,GAAsBI,GAAtB;AH6SJ,ACjEO,AE3OH,SFyOE,EEzOG4C,IF2OI,IAAIzF,GAAG,EE3OhB,GF2OqB,WAAR,IAAuBA,GAAG,KAAK,WAAnC,EAAgD;ADkE7D,ACjEQ,AE3OL,eF2OU0C,UAAL;ADkER,ACjEO,SAFM,MAEA;ADkEb,ACjEQpB,UAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;ADkER,ACjEO,wBEvQW;AHyUlB,ACjEK,AEvQD,aAAO,KAAK4D,UAAZ;AHyUJ,AGxUG;AHyUH,ACjEI,UAAItF,SAAJ,EAAe,CEhPHgD,KAAK;AHkTrB,ACjEM,AEhPF,WAAKsC,CFgPCnF,GAAG,CAACK,KEhPV,CFgPM,EEhPYwC,GFgPG,AEhPrB,CFgPM,IAAoB7C,GAAG,KAAK,YAA5B,IAA4CA,GAAG,KAAK,OAAxD,EAAiE;ADkEvE,ACjEQ,AEhPJ,WAAKyF,IFgPIhD,SEhPT,CFgPI;ADkER,ACjEO,AEhPJ,SF8OG,MAEO,IAAIzC,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,WAAnC,EAAgD;ADkE7D,ACjEQ,eAAK0C,UAAL;ADkER,ACjEO,SAFM,MAEA;ADkEb,ACjEQpB,UAAAA,OAAO,CAACC,GAAR,CAAY,EE7QL,kCF6QP;ADkER,ACjEO,AE7QH,aAAO,KAAKiD,OAAZ;AH+UJ,ACjEK,AE7QF;AH+UH,sBGtTa3B,KAAK;AHuTlB,ACjEIR,AErPA,MFqPAA,KErPKmC,OAAL,GAAe3B,GAAf,KFqPuB;ADkE3B,ACjEG,MACD;ADiEF,AGvTI,6CAAiB,wCAAmB;AHwTxC,AGxT0CW,QAAAA,MAAM,EAAE,KAAKgB;AHyTvD,AGzTwC,OAAnB,CAAjB;AH0TJ;AACA,AG1TI,WAAKiB,aAAL;AH2TJ,AG1TG;AH2TH;AACA;AACA,ICtEM9D,oBElRa;AHyVnB,ACtEE,AElRE,aAAO,IFkRG3B,CElRE2E,EFkRd,EAAiB1E,OAAjB,AElRE,EFkRwB;ADuE5B,ACvE4B,AEjRzB;AHyVH;AACA,ACzE4B,0BACEA,OADF,CAChB0C,MADgB;AD0E5B,AC1E4B,QAChBA,MADgB,UE/QV,sBFgRG,IADO;AD2E5B,ACzEI,AEhRA,SFgRK3C,GAAL,CEhRO,EFgRIA,GAAX,AEhRYqF,UAAZ;AH0VJ,ACzEI,AEhRD,SFgRM1C,MAAL,GAAcA,MAAd;AD0EJ,ACzEI,SAAKC,YAAL,CE1PYC,EF0PQ,GE1PH,EF0PjB;AD0EJ,ACzEG,AE1PC,WAAKwC,UAAL,GAAkBxC,GAAlB;AHoUJ,AGnUI,WAAK4C,aAAL;AHoUJ,AGnUG;AHoUH;AACA,8BC3EY9C,QAAQ;AD4EpB,AC3EI,WAAKA,MAAL,GAAcA,MAAd;AD4EJ,AC3EG;AD4EH;AACA;AACA,8BC7EY3C,KAAK6C,KAAK;AD8EtB,AC7EI,WAAKF,MAAL,mCAAmB,KAAKA,MAAxB,2BAAiC3C,GAAjC,EAAuC6C,GAAvC;AD8EJ,AC7EI,WAAKD,YAAL,GAAoB,IAApB;AD8EJ,AC7EG;AD8EH;AACA;AACA;AACA;AACA;AACA,IChFMZ;ADiFN,AChFE,wBAA0B;ADiF5B,ACjF4B,QAAdL,KAAc,uEAAN,IAAM;ADkF5B;AACA,ACnF4B;ADoF5B;AACA,ACpFI,SAAKY,MAAL,GAAc,KAAd,CADwB,CACH;ADqFzB;AACA,ACrFI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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"canvaswriter.e31bb0bc.js","sourceRoot":"..","sourcesContent":["function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Number(Math.floor(Math.random() * (max - min + 1)) + min);\n}\nfunction getRandomArbitrary(min, max) {\n  return Number((Math.random() * (max - min) + min).toFixed(2));\n}\n\nfunction hex2rgba(hex, a) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  let r = parseInt(result[1], 16);\n  let g = parseInt(result[2], 16);\n  let b = parseInt(result[3], 16);\n\n  return `rgba(${r},${g},${b},${a})`;\n}\n\nconst clamp = (a, b, c) => Math.max(b, Math.min(c, a));\n\nexport { hex2rgba, getRandomArbitrary, getRandomInt, clamp };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","// Text\n\nimport { clone } from './helpers';\nimport cloneDeep from 'lodash.clonedeep';\n\nexport default class Editor {\n  constructor(presets = {}) {\n    this.paper = null;\n\n    this.cursorIndex = 0;\n    this.history = [];\n    this.removedHistory = []; //undo functionality\n    //options\n    this.overwrite = presets?.overwrite || false;\n    this.maxHistory = presets?.maxHistory || 100;\n    this.init();\n  }\n\n  init() {}\n\n  // Exposed methods --------------------------------------------\n\n  connect(paper) {\n    this.paper = paper;\n  }\n  //Handle adding entries\n  handleKeyInput(key, options = {}) {\n    this.updateHistory(key, options);\n    this.updateRemovedHistory(key);\n    this.updateCursor(key, this.overwrite);\n\n    //\n  }\n  undo() {\n    //TODO: set the cursor index in the Editor...\n    let history = [...this.history];\n\n    if (history.length >= 1) {\n      let removed = history.pop();\n\n      this.history = history;\n\n      if (removed) {\n        this.removedHistory.push(removed);\n        this.cursorIndex = removed.cursorIndex;\n      }\n    }\n  }\n  redo() {\n    let removedHistory = [...this.removedHistory];\n    let removed = removedHistory.pop();\n    this.removedHistory = removedHistory;\n    if (removed) {\n      this.addToHistory(removed);\n      this.cursorIndex = removed.cursorIndex;\n    }\n  }\n  getCurrentEntry() {\n    if (this.overwrite) {\n      return this.getEntry(this.cursorIndex);\n    } else {\n      return this.getEntry(this.nextCursorIndex());\n    }\n  }\n  getEntry(index) {\n    //returns top letter of stack in top history entry\n    // NOTE: if there is a paper instance connected, then it will also load in the style of that letter\n\n    let last = this.getLastHistory();\n    let group = last.groups[index];\n    let entry = group?.getLastEntry();\n\n    // if (entry) {\n    //   if (!entry.styles) {\n    //     entry.setStyles({\n    //       ...this.paper.getANStyles(entry.key),\n    //       color: this.paper.fontColor,\n    //     });\n    //   }\n    //   // console.log(paper);\n    // }\n\n    return entry;\n  }\n\n  // Internals --------------------------------------------\n  //Handle cursor movement\n  incrCursor() {\n    let last = this.getLastHistory().groups;\n    if (this.cursorIndex === null) {\n      this.cursorIndex = 0;\n      return;\n    }\n    if (this.overwrite) {\n      if (this.cursorIndex < last.length) {\n        //?\n        this.cursorIndex++;\n      } else {\n        return;\n      }\n    }\n    if (!this.overwrite) {\n      if (this.cursorIndex < last.length - 1) {\n        //?\n        this.cursorIndex++;\n      } else {\n        return;\n      }\n    }\n  }\n  decrCursor() {\n    if (this.cursorIndex === 0) {\n      if (this.overwrite) {\n        this.cursorIndex = 0;\n      } else {\n        this.cursorIndex = null;\n      }\n    } else if (this.cursorIndex > 0) {\n      this.cursorIndex--;\n    }\n  }\n\n  nextCursorIndex() {\n    let last = this.getLastHistory().groups;\n    if (this.cursorIndex === null) {\n      return 0;\n    }\n    if (this.overwrite) {\n      if (this.cursorIndex < last.length + 1) {\n        //?\n        return this.cursorIndex + 1;\n      } else {\n        return;\n      }\n    }\n    if (!this.overwrite) {\n      if (this.cursorIndex < last.length) {\n        return this.cursorIndex + 1;\n      } else {\n        return;\n      }\n    }\n  }\n\n  getLastHistory() {\n    let last = this.history[this.history.length - 1] || new HistoryState();\n    return last;\n  }\n\n  addToHistory(historyItem) {\n    if (this.history.length === this.maxHistory) {\n      this.history.splice(0, 1);\n    }\n    this.history.push(historyItem);\n  }\n\n  // add new text to history\n  updateHistory(key, options) {\n    console.log(this.cursorIndex);\n    //get last history item\n    let prevText = this.getLastHistory();\n\n    //clone last state..\n    let text = cloneDeep(prevText);\n\n    let entryGroup;\n    let entry = new Entry(key, {});\n    if (this.paper) {\n      entry.setStyles(this.paper.createEntryStyles(entry));\n    }\n\n    // Handle delete\n    if (key === 'Backspace') {\n      if (this.overwrite) {\n        this.updateHistory('ArrowLeft', options);\n        return;\n      } else {\n        if (this.cursorIndex === null) {\n          return;\n        }\n        text.remove(this.cursorIndex);\n        this.addToHistory(text);\n      }\n      return;\n    }\n\n    if (key === 'ArrowLeft' || key === 'ArrowRight') {\n      this.addToHistory(text);\n      return;\n    }\n\n    if (key.length === 1 || key === 'Enter') {\n      // continue\n    } else {\n      //don't handle other keys (e.g shift/esc/ctrl)\n      return;\n    }\n\n    //Handle ctrl, shift etc?\n\n    // Add to history\n    if (!this.getCurrentEntry()) {\n      console.log('is empy');\n      // is empty\n      entryGroup = new EntryGroup(entry);\n      console.log('nnn', this.nextCursorIndex());\n      text.insert(entryGroup, this.nextCursorIndex());\n      this.addToHistory(text);\n      return;\n    } else {\n      if (this.overwrite) {\n        let n = this.nextCursorIndex();\n        console.log('nextov', n);\n        // Add entry to group at current index\n        entryGroup = text.groups[this.cursorIndex];\n        if (entryGroup) {\n          entryGroup.add(entry);\n          text.replace(entryGroup, this.cursorIndex);\n        } else {\n          entryGroup = new EntryGroup(entry);\n          text.insert(entryGroup, this.nextCursorIndex());\n        }\n        this.addToHistory(text);\n      } else {\n        // Insert entry in entrygroup at next index\n        entryGroup = new EntryGroup(entry);\n        let n = this.nextCursorIndex();\n        console.log('next', n);\n        text.insert(entryGroup, this.nextCursorIndex());\n        // if (this.cursorIndex === null) {\n        //   text.insert(entryGroup, this.nextCursorIndex());\n        // } else {\n        //   text.insert(entryGroup, this.cursorIndex);\n        // }\n\n        this.addToHistory(text);\n      }\n    }\n  }\n  updateRemovedHistory(key) {\n    // you can't redo if you have add new letters\n\n    if (this.overwrite) {\n      if (key === 'ArrowLeft' || key === 'ArrowRight' || key === 'Backspace') {\n        return;\n      }\n      this.removedHistory = [];\n    }\n    if (!this.overwrite) {\n      if (key === 'ArrowLeft' || key === 'ArrowRight') {\n        return;\n      }\n      this.removedHistory = [];\n    }\n  }\n  // update cursor valuesa\n  updateCursor(key, overwrite) {\n    const updateLastHistoryCursor = () => {\n      let last = this.getLastHistory();\n      last.removeAllCursors();\n      //see below for fix required\n\n      if (last.groups.length && last.groups[this.cursorIndex]) {\n        // console.log('item at index');\n        last.groups[this.cursorIndex].cursor = true;\n\n        if (overwrite) {\n          if (\n            key === 'ArrowLeft' ||\n            key === 'ArrowRight' ||\n            key === 'Backspace'\n          ) {\n            last.cursorMovement = true;\n          }\n          if (key.length === 1) {\n            last.cursorMovement = false;\n          }\n        }\n        if (!overwrite) {\n          if (key === 'ArrowLeft' || key === 'ArrowRight') {\n            last.cursorMovement = true;\n          }\n          if (key.length === 1) {\n            last.cursorMovement = false;\n          }\n        }\n      } else {\n        // // console.log('no item at index');\n        // if (!overwrite) {\n        //   //   this.updateCursor(key, overwrite);\n        // }\n        // //add extra space at end?\n        // //FIX: currently adds too many\n        // if (overwrite) {\n        //   console.log('no', last.groups[this.cursorIndex - 1]);\n        //   //nothing at cursor index\n        //   //   last.insert(new EntryGroup(new Entry(' ', {})), this.cursorIndex);\n        //   //   last.groups[this.cursorIndex].cursor = true;\n        // }\n      }\n\n      last.cursorIndex = this.cursorIndex;\n    };\n\n    if (!overwrite) {\n      if (key.length === 1 || key === 'Enter' || key === 'ArrowRight') {\n        this.incrCursor();\n      } else if (key === 'Backspace' || key === 'ArrowLeft') {\n        this.decrCursor();\n      } else {\n        console.log('unhandled key - not moving cursor');\n      }\n    }\n\n    if (overwrite) {\n      if (key.length === 1 || key === 'ArrowRight' || key === 'Enter') {\n        this.incrCursor();\n      } else if (key === 'Backspace' || key === 'ArrowLeft') {\n        this.decrCursor();\n      } else {\n        console.log(\"unhandled key or don't move cursor\");\n      }\n    }\n\n    updateLastHistoryCursor();\n  }\n  //sets cursor true in correct location of text\n}\n\nclass Entry {\n  constructor(key, options) {\n    const { styles = null } = options;\n    this.key = key;\n    this.styles = styles;\n    this.editedStyles = false;\n  }\n\n  setStyles(styles) {\n    this.styles = styles;\n  }\n  editStyle(key, val) {\n    this.styles = { ...this.styles, [key]: val };\n    this.editedStyles = true;\n  }\n}\n\nclass EntryGroup {\n  constructor(Entry = null) {\n    this.cursor = false; //default false\n    this.entries = Entry ? [Entry] : [];\n  }\n\n  add(Entry) {\n    this.entries = [...this.entries, Entry];\n  }\n  getLastEntry() {\n    return this.entries.slice(-1)[0];\n  }\n}\n\nclass HistoryState {\n  constructor(EntryGroups = []) {\n    this.groups = EntryGroups;\n    this.cursorMovement = false;\n    this.cursorIndex = null;\n  }\n\n  add(Group) {\n    this.groups = [...this.groups, Group];\n  }\n\n  insert(Group, index) {\n    // console.log(\"insert index\", index);\n    this.groups.splice(index, 0, Group);\n  }\n  replace(Group, index) {\n    // console.log(\"insert index\", index);\n    this.groups.splice(index, 1, Group);\n  }\n  remove(index) {\n    this.groups.splice(index, 1);\n  }\n  removeAllCursors() {\n    this.groups = this.groups.map((eg) => {\n      eg.cursor = false;\n      return eg;\n    });\n  }\n}\n\nconst initHist = {\n  groups: [\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'h',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'e',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'l',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'l',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'o',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'l',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'o',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'r',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'e',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'm',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'i',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'p',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 's',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'u',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'm',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'b',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'l',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'a',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'h',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'b',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'l',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'a',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'h',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'b',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'i',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'n',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'g',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'o',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'b',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'a',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'n',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: 'g',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: false,\n      entries: [\n        {\n          key: ' ',\n          styles: {},\n        },\n      ],\n    },\n    {\n      cursor: true,\n      entries: [\n        {\n          key: 'o',\n          styles: {},\n        },\n      ],\n    },\n  ],\n  cursorMovement: false,\n};\n","import { getRandomArbitrary } from './helpers';\n\nconst alphaNums =\n  '`1234567890-=qwertyuiop[]asdfghjkl;\\'zxcvbnm,./!\"$%^&*()+QWERTYUIOP{}~ASDFGHJKL:@ZXCVBNM<>?';\n\nconst initAlphaNumStyles = (opts = { broken: 0.5 }) => {\n  let { broken } = opts;\n  let rotationMax = 15;\n  let translationXMax = 0.25;\n  let translationYMax = 0.25;\n\n  let settings = {\n    rotation: broken * rotationMax,\n    translationX: broken * translationXMax,\n    translationY: broken * translationYMax,\n  };\n\n  // make options if you want a consistent appearance for certain letters otherwise it's rando:\n  let ans = alphaNums.split('');\n  let styles = {};\n  for (let a of ans) {\n    //set as vars\n\n    let rotation = getRandomArbitrary(-settings.rotation, settings.rotation);\n    let translationY = getRandomArbitrary(\n      -settings.translationY,\n      settings.translationY\n    );\n    let translationX = getRandomArbitrary(\n      -settings.translationX,\n      settings.translationX\n    );\n\n    // styles[a] = {\n    //   transform: `rotate(${rotation}deg) translateY(${translationY}em) translateX(${translationX}em)`,\n    // };\n\n    styles[a] = {\n      rotation,\n      x: translationX,\n      y: translationY,\n      scale: 1,\n    };\n  }\n  return styles;\n};\n\nexport { initAlphaNumStyles };\n","// Render a history state of editor\n\nimport { initAlphaNumStyles } from './alphaNumStyles';\nimport { clamp, getRandomArbitrary, hex2rgba } from './helpers';\n\nexport default class Paper {\n  // probably shouldn't mix _ and # but the _values are exposed thru getters...\n\n  #grid = {\n    X: 1,\n    y: 1,\n  };\n\n  #ANStyles = initAlphaNumStyles({ broken: this._broken });\n  #padding = { x: 0, y: 0 }; //maybe make accessible\n  #fontSize = 1;\n\n  constructor(canvas, presets = {}) {\n    this.canvas = canvas;\n    this.ctx = this.canvas.getContext('2d');\n\n    this._dimensions = presets?.dimensions || { w: 300, h: 400 };\n    this._lineHeight = presets?.lineHeight || 1;\n    this._letterSpacing = presets?.letterSpacing || 0.5; //[0,1]\n    this._fontRatio = presets?.fontRatio || 1;\n    this._broken = presets?.broken || 0.2;\n    this._fontColor = presets?.fontColor || '#500000';\n    this.randomOpacity = true || presets?.randomOpacity;\n\n    this.init();\n  }\n\n  init() {\n    this.setDimensions(800, 400);\n    this.#ANStyles = initAlphaNumStyles({ broken: this._broken });\n    this.refreshCanvas();\n\n    this.renderText(null, true);\n    // this.refreshCanvas();\n  }\n  // Exposed variables (controls) --------------------------------------------\n\n  get lineHeight() {\n    return this._lineHeight;\n  }\n  get letterSpacing() {\n    return this.__letterSpacing;\n  }\n  get fontRatio() {\n    return this._fontRatio;\n  }\n  get broken() {\n    return this._broken;\n  }\n\n  get dimensions() {\n    return this._dimensions;\n  }\n\n  get fontColor() {\n    return this._fontColor;\n  }\n\n  /**\n   * @param {number} val\n   */\n  set lineHeight(val) {\n    this._lineHeight = val;\n    this.refreshCanvas();\n  }\n  set letterSpacing(val) {\n    this._letterSpacing = val;\n    this.refreshCanvas();\n  }\n  set fontRatio(val) {\n    this._fontRatio = val;\n    this.refreshCanvas();\n  }\n  set broken(val) {\n    this._broken = val;\n    this.#ANStyles = initAlphaNumStyles({ broken: this._broken });\n    this.refreshCanvas();\n  }\n\n  set fontColor(val) {\n    this._fontColor = val;\n    this.refreshCanvas();\n  }\n\n  getANStyles(key) {\n    return this.#ANStyles[key];\n  }\n  setDimensions(w, h) {\n    this._dimensions = { w, h };\n  }\n  setPadding(x, y) {\n    this.#padding = { x, y };\n  }\n\n  // set dimensions(val) {\n  //   this._dimensions = val;\n  //   this.refreshCanvas();\n  // }\n\n  // ---End exposed variables\n\n  // Exposed methods --------------------------------------------\n\n  renderText(historyText, overwrite = false) {\n    let { w, h } = this._dimensions;\n    let width = w - this.#padding.x * 2;\n    let height = h - this.#padding.y * 2;\n    // let lw = width / this.#grid.x;\n    let lw = this.#fontSize;\n\n    let idx = 0;\n    let cursorNext = false;\n    let cursorRendered = false;\n\n    if (!historyText) {\n      let c1 = this.#padding.x + (0 * width) / (this.#grid.x - 1);\n      let c2 = this.#padding.y + (0 * height) / (this.#grid.y - 1);\n      this.drawLetter('_', c1, c2);\n      return;\n    }\n\n    if (historyText.cursorIndex === null) {\n      let c1 = this.#padding.x + (0 * width) / (this.#grid.x - 1);\n      let c2 = this.#padding.y + (0 * height) / (this.#grid.y - 1);\n      this.drawLetter('_', c1, c2);\n      cursorRendered = true;\n    }\n\n    let i, j;\n\n    for (i = 0; i < this.#grid.y; i++) {\n      for (j = 0; j < this.#grid.x - 1; j++) {\n        let group = historyText?.groups[idx];\n\n        let c1 = this.#padding.x + (j * width) / (this.#grid.x - 1);\n        let c2 = this.#padding.y + (i * height) / (this.#grid.y - 1);\n\n        //debug\n\n        // this.ctx.beginPath();\n        // this.ctx.arc(c1, c2, 20 / 2, 0, 2 * Math.PI);\n        // this.ctx.stroke();\n\n        //\n\n        let entries = group?.entries;\n        if (entries && entries.length) {\n          entries.forEach((entry) => {\n            if (entry.key.length === 1) {\n              this.drawLetter(\n                entry.key,\n\n                c1,\n                c2,\n                entry.styles,\n                entry.editedStyles\n              );\n            } else if (entry.key === 'Enter') {\n              i++;\n              j = -1;\n            }\n          });\n\n          if (cursorNext) {\n            this.drawLetter('_', c1, c2);\n            cursorRendered = true;\n            cursorNext = false;\n          }\n\n          //TODO - dont' use group.cursor, use historyText.cursorIndex (then remove group.cursor everywhere..)\n          if (group.cursor) {\n            if (overwrite) {\n              this.drawLetter('_', c1, c2);\n              cursorRendered = true;\n            } else {\n              //non-overwrite: render cursor at next positiondd\n              cursorNext = true;\n            }\n          }\n        }\n\n        if (!group && !cursorRendered) {\n          this.drawLetter('_', c1, c2);\n          cursorRendered = true;\n\n          break;\n        }\n\n        idx++;\n      }\n      let group = historyText?.groups[idx];\n\n      if (!group) {\n        // this.drawLetter('_', c1, c2);\n        break;\n      }\n    }\n\n    // if (!cursorRendered) {\n    //   // if()\n    //   let c1 = this.#padding.x + (j * width) / (this.#grid.x - 1);\n    //   let c2 = this.#padding.y + (i * height) / (this.#grid.y - 1);\n    //   this.drawLetter('_', c1, c2);\n    // }\n  }\n  refreshCanvas() {\n    // recallibarate all variables and repaint\n    // called by most setters (like a react dep array kinda thing)\n\n    this.ctx.clearRect(0, 0, this._dimensions.width, this._dimensions.heighth);\n    this.canvas.width = this._dimensions.w;\n    this.canvas.height = this._dimensions.h;\n    // console.log(this.canvas.clientHeight);\n    // this.canvas.width =\n    //   this.canvas.height * (this.canvas.clientWidth / this.canvas.clientHeight);\n\n    this.#fontSize = (this._fontRatio * this._dimensions.w) / 20;\n    this.setPadding(this.#fontSize, this.#fontSize);\n\n    let clampedPaddingX = clamp(\n      this.#fontSize / 2,\n      this._dimensions.w / 14,\n      this._dimensions.w / 10\n    );\n\n    this.setPadding(clampedPaddingX, this.#fontSize);\n\n    this.#grid = {\n      x:\n        (this._dimensions.w - 2 * this.#padding.x) /\n        (this._letterSpacing * this.#fontSize),\n      y: this._dimensions.h / (this._lineHeight * this.#fontSize),\n    };\n  }\n\n  // ---End exposed methods --------------------------------------------\n\n  drawLetter(letter, x, y, styles, editedStyles) {\n    this.ctx.textAlign = 'center';\n    this.ctx.textBaseline = 'middle';\n    // this.ctx.font = `${this.#fontSize}px JetBrains Mono`;\n    this.ctx.font = `${this.#fontSize}px Roboto Mono`;\n\n    this.ctx.fillStyle = this._fontColor;\n\n    let letterStyles;\n\n    let ANStyles = this.getANStyles(letter);\n    if (editedStyles) {\n      //custom styles\n      letterStyles = styles;\n    } else if (ANStyles) {\n      //random typewriter styles\n      letterStyles = ANStyles;\n    }\n\n    if (letterStyles) {\n      const {\n        scale,\n        x: posX,\n        y: posY,\n        rotation: rot,\n        color = this._fontColor,\n        opacity = styles.opacity,\n      } = letterStyles;\n      let scaleX = scale;\n      let scaleY = scale;\n\n      //color\n      let col;\n      col = hex2rgba(color, opacity);\n\n      this.ctx.fillStyle = col;\n\n      //transforms\n      this.ctx.setTransform(\n        scaleX,\n        0,\n        0,\n        scaleY,\n        x + posX * this.#fontSize,\n        y + posY * this.#fontSize\n      ); // scale and translate in one call\n      this.ctx.rotate((rot * Math.PI) / 180);\n      this.ctx.fillText(letter, 0, 0);\n\n      //undo transforms\n      this.ctx.rotate((-rot * Math.PI) / 180);\n      this.ctx.setTransform(1, 0, 0, 1, 1, 1); // scale and translate in one call\n    } else {\n      this.ctx.fillText(letter, x, y);\n    }\n\n    //restore (ctx.restore /save is more CPU intensive apparently)\n  }\n\n  createEntryStyles(entry) {\n    let a;\n    if (this.randomOpacity) {\n      a = getRandomArbitrary(0.5, 0.8);\n    } else {\n      a = 1;\n    }\n    return {\n      ...this.getANStyles(entry.key),\n      color: this.fontColor,\n      opacity: a,\n    };\n  }\n\n  // Debug\n  drawDots() {\n    let { w, h } = this._dimensions;\n    let width = w - this.#padding.x * 2;\n    let height = h - this.#padding.y * 2;\n    let lw = width / this.#grid.x;\n    // let lh = height / this.#grid.y;\n\n    for (let i = 0; i < this.#grid.x; i++) {\n      for (let j = 0; j < this.#grid.y; j++) {\n        let c1 = this.#padding.x + (i * width) / (this.#grid.x - 1);\n        let c2 = this.#padding.y + (j * height) / (this.#grid.y - 1);\n\n        if (i === 5 && j === 3) {\n          this.drawLetter('l', c1, c2);\n        }\n        if (i === 6 && j === 3) {\n          this.drawLetter('y', c1, c2);\n        }\n        this.ctx.beginPath();\n        this.ctx.arc(c1, c2, lw / 2, 0, 2 * Math.PI);\n        this.ctx.stroke();\n      }\n    }\n  }\n}\n","import Editor from './Editor';\nimport Paper from './Paper';\n\n// Combine Paper and Editor functionality\nexport default class CanvasWriter {\n  constructor(options) {\n    const { elements, presets, settings } = options;\n    const { canvas, canvas2 = null } = elements;\n\n    this.paper = new Paper(canvas, presets);\n    this.editor = new Editor(presets);\n\n    this.DOMControls = elements;\n    this.settings = settings;\n\n    this.init();\n  }\n\n  init() {\n    this.editor.connect(this.paper);\n    this.addEventListeners(this.DOMControls);\n  }\n\n  addEventListeners(DOMControls) {\n    const {\n      canvas,\n      canvas2,\n      l_rotation_control = null, //todo // same below to handle for none provided [then filter before looping over in addhandler]\n      l_x_control,\n      l_y_control,\n      l_scale_control,\n      l_color,\n      l_opacity,\n      t_color,\n      t_line_height,\n      t_letter_spacing,\n      t_font_scale,\n      t_broken,\n      t_overwrite,\n      t_undo,\n      t_redo,\n      t_key,\n    } = DOMControls; //etc etc/\n\n    const letterControls = {\n      l_rotation_control,\n      l_x_control,\n      l_y_control,\n      l_scale_control,\n      l_color,\n      l_opacity,\n    };\n    const textControls = {\n      t_color,\n      t_line_height,\n      t_letter_spacing,\n      t_font_scale,\n      t_broken,\n      t_overwrite,\n      t_undo,\n      t_redo,\n      t_key,\n    };\n    const addLetterControlListeners = (letterControls) => {\n      Object.values(letterControls)\n        .filter((v) => !!v) //if it exists\n        .forEach((input) => {\n          const inputHandler = (e) => {\n            let entry = this.editor.getCurrentEntry();\n            if (entry) {\n              let key = input.dataset.key;\n              let val = e.target.value;\n              // console.log(key, val);\n              entry.editStyle(key, val);\n              this.renderLastText();\n            }\n          };\n          input.addEventListener('input', inputHandler);\n        });\n    };\n    const addTextControlListeners = (textControls) => {\n      const {\n        t_color,\n        t_line_height,\n        t_letter_spacing,\n        t_font_scale,\n        t_broken,\n        t_overwrite,\n        t_undo,\n        t_redo,\n        t_key,\n      } = textControls;\n\n      const handleKeyDown = (e) => {\n        e.preventDefault();\n        this.editor.handleKeyInput(e.key);\n        this.paper.refreshCanvas();\n        this.updateLetterControls(letterControls);\n\n        this.renderLastText();\n      };\n      const handleLineHeightRange = (e) => {\n        this.paper.lineHeight = e.target.value;\n        this.renderLastText();\n      };\n      const handleLetterSpacingRange = (e) => {\n        this.paper.letterSpacing = e.target.value;\n        this.renderLastText();\n      };\n      const handleFontScaleRange = (e) => {\n        this.paper.fontRatio = e.target.value;\n        this.renderLastText();\n      };\n      const handleBrokenRange = (e) => {\n        this.paper.broken = e.target.value;\n        this.renderLastText();\n      };\n      const handleOverwriteButton = () => {\n        this.editor.overwrite = !this.editor.overwrite;\n        this.renderLastText();\n      };\n      const handleUndoButton = () => {\n        this.editor.undo();\n        let last = this.editor.getLastHistory();\n        // console.log(this.editor.history);\n        // console.log('last', last);\n        this.renderLastText();\n      };\n      const handleRedoButton = () => {\n        this.editor.redo();\n        this.renderLastText();\n      };\n      const handleTextColorInput = (e) => {\n        this.paper.fontColor = e.target.value;\n        console.log(e.target.value);\n        this.renderLastText();\n      };\n\n      //Add listeners\n      t_color?.addEventListener('input', handleTextColorInput);\n      t_line_height?.addEventListener('input', handleLineHeightRange);\n      t_letter_spacing?.addEventListener('input', handleLetterSpacingRange);\n      t_font_scale?.addEventListener('input', handleFontScaleRange);\n      t_broken?.addEventListener('input', handleBrokenRange);\n      t_overwrite?.addEventListener('click', handleOverwriteButton);\n      t_undo?.addEventListener('click', handleUndoButton);\n      t_redo?.addEventListener('click', handleRedoButton);\n      t_key?.addEventListener('keydown', handleKeyDown);\n    };\n    const syncInitial = (DOMControls) => {\n      const { t_color } = DOMControls;\n      //   console.log('tc', t_color);\n      t_color && (t_color.value = this.paper.fontColor);\n    };\n\n    addTextControlListeners(textControls);\n    addLetterControlListeners(letterControls);\n    syncInitial(DOMControls);\n  }\n\n  renderLastText = () => {\n    this.paper.refreshCanvas();\n    let last = this.editor.getLastHistory();\n    this.paper.renderText(last, this.editor.overwrite);\n  };\n\n  // Sync letter controls to values of current letter\n  updateLetterControls = (letterControls) => {\n    let entry = this.editor.getCurrentEntry();\n    if (!entry?.styles) {\n      return;\n    }\n\n    Object.values(letterControls)\n      .filter((v) => !!v)\n      .forEach((input) => {\n        let key = input.dataset.key;\n        input.value = entry.styles[key];\n      });\n  };\n}\n","import CanvasWriter from './CanvasWriter';\nimport Editor from './Editor';\nimport Paper from './Paper';\n\nexport default CanvasWriter;\nexport { Paper, Editor };\n","import './styles.scss';\nimport CanvasWriter from './src/CanvasWriter';\nconsole.clear();\n\n\nconst DOMElements = {\n  l_rotation_control: document.getElementById('letter-r'),\n  l_x_control: document.getElementById('letter-x'),\n  l_y_control: document.getElementById('letter-y'),\n  l_scale_control: document.getElementById('letter-s'),\n  l_color: document.getElementById('letter-color'),\n  l_opacity: document.getElementById('letter-o'),\n  t_color: document.getElementById('text-color'),\n  t_line_height: document.getElementById('line-height'),\n  t_letter_spacing: document.getElementById('letter-spacing'),\n  t_font_scale: document.getElementById('font-scale'),\n  t_broken: document.getElementById('broken'),\n  t_overwrite: document.getElementById('overwrite'),\n  t_undo: document.getElementById('undo'),\n  t_redo: document.getElementById('redo'),\n  t_key: document,\n  canvas: document.getElementById('paper'),\n};\n\nfunction main() {\n  let canvasWriter = new CanvasWriter({ elements: DOMElements, settings: {} });\n}\n\nmain();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}